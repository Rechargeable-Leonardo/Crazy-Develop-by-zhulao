##Agricultural infrastructure
##农业方面的基础建设

agri_landreform = {		#地貌改造
	cost = 500
	time = 1

	build_trigger = {
		NOT = { 
			OR = {	#非农田且非地改完成
				has_terrain = farmlands
				has_province_modifier = agri_landreform_drylands
				has_province_modifier = agri_landreform_grasslands
				has_province_modifier = agri_landreform_woods
				has_province_modifier = agri_landreform_forest
				has_province_modifier = agri_landreform_jungle
				has_province_modifier = agri_landreform_marsh
				has_province_modifier = agri_landreform_coastline
				has_province_modifier = agri_landreform_desert
				has_province_modifier = agri_landreform_coastal_desert
				has_province_modifier = agri_landreform_hills
				has_province_modifier = agri_landreform_mountain
				has_province_modifier = agri_landreform_highlands
				has_province_modifier = agri_landreform_savannah
				has_province_modifier = agri_landreform_steppe
				has_province_modifier = agri_landreform_glacier
			}
			has_province_flag = agri_landreformed		#正在地改
			has_province_modifier = agri_landreforming	#地改中debuff
		}
		FROM = { adm_tech = 7 }	#7级adm
	}
	
	on_built = {
		set_province_flag = agri_landreformed		#地改flag
		add_province_modifier = {
			name = "agri_landreforming"				#省份修正：地改中
			duration = 1095							#时长三年
		}
		province_event = { id = agriculture.1 days = 1095 }
		remove_building = agri_landreform
	}
	on_destroyed = { }			#仅作为占位符
	
	modifier = { 
		allowed_num_of_buildings = 5 	#+5格子，确保无论如何都能点下去
	}
	
	ai_will_do = {
		factor = 1
	}
}

agri_infrastructure = {		#农业基建
	cost = 500
	time = 24
	
	bonus_manufactory = { 	# Will apply an extra modifier if these goods
		grain				#谷物、鱼、牲畜、酒类时获得额外人力加成
		fish
		livestock
		wine
	}

	build_trigger = {
		OR = {		#农田或地改完成
			has_terrain = farmlands	#农田地形
			has_province_modifier = agri_landreform_drylands
			has_province_modifier = agri_landreform_grasslands
			has_province_modifier = agri_landreform_woods
			has_province_modifier = agri_landreform_forest
			has_province_modifier = agri_landreform_jungle
			has_province_modifier = agri_landreform_marsh
			has_province_modifier = agri_landreform_coastline
			has_province_modifier = agri_landreform_desert
			has_province_modifier = agri_landreform_coastal_desert
			has_province_modifier = agri_landreform_hills
			has_province_modifier = agri_landreform_mountain
			has_province_modifier = agri_landreform_highlands
			has_province_modifier = agri_landreform_savannah
			has_province_modifier = agri_landreform_steppe
			has_province_modifier = agri_landreform_glacier
		}
		FROM = { adm_tech = 7 }	#7级adm
	}
	
	on_built = {
		add_development_from_building = {
			building = agri_infrastructure
			type = tax
			value = 2
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = agri_infrastructure
			type = tax
			value = 2
		}
	}
	
	modifier = {
		local_manpower = 0.05 				#士兵之家三十分之一的人力
		local_development_cost = -0.45		#种田花费从-5%提升至-50%
		allowed_num_of_buildings = 1		#增加1个格子，相当于无需格子
		#allowed_num_of_manufactories = 1	#增加1个工厂格，相当于无需工厂格
		#貌似因为这个不算工厂了，所以这条先注释掉
	}
	bonus_modifier = {
		local_manpower = 0.05		#士兵之家三十分之一的人力
		trade_goods_size = 0.05 	#0.05商品产出
	}
	
	ai_will_do = {
		factor = 1				#反正默认是1，我也懒得改辽
	}
}

mine_infrastructure = {		#矿业基建（未完成）
	cost = 500
	time = 24
	
	bonus_manufactory = { 	# Will apply an extra modifier if these goods
		grain				#谷物、鱼、牲畜、酒类时获得额外人力加成
		fish
		livestock
		wine
	}

	build_trigger = {
		OR = {		#农田或地改完成
			has_terrain = farmlands	#农田地形
			has_province_modifier = agri_landreform_drylands
			has_province_modifier = agri_landreform_grasslands
			has_province_modifier = agri_landreform_woods
			has_province_modifier = agri_landreform_forest
			has_province_modifier = agri_landreform_jungle
			has_province_modifier = agri_landreform_marsh
			has_province_modifier = agri_landreform_coastline
			has_province_modifier = agri_landreform_desert
			has_province_modifier = agri_landreform_coastal_desert
			has_province_modifier = agri_landreform_hills
			has_province_modifier = agri_landreform_mountain
			has_province_modifier = agri_landreform_highlands
			has_province_modifier = agri_landreform_savannah
			has_province_modifier = agri_landreform_steppe
			has_province_modifier = agri_landreform_glacier
		}
		OR = {
			trade_goods = 
		}
		FROM = { adm_tech = 7 }	#7级adm

	}
	
	on_built = {
		add_development_from_building = {
			building = agri_infrastructure
			type = tax
			value = 2
		}
	}
	on_destroyed = {
		remove_development_from_building = {
			building = agri_infrastructure
			type = tax
			value = 2
		}
	}
	
	modifier = {
		local_manpower = 0.05 				#士兵之家三十分之一的人力
		local_development_cost = -0.45		#种田花费从-5%提升至-50%
		allowed_num_of_buildings = 1		#增加1个格子，相当于无需格子
		#allowed_num_of_manufactories = 1	#增加1个工厂格，相当于无需工厂格
		#貌似因为这个不算工厂了，所以这条先注释掉
	}
	bonus_modifier = {
		local_manpower = 0.05		#士兵之家三十分之一的人力
		trade_goods_size = 0.05 	#0.05商品产出
	}
	
	ai_will_do = {
		factor = 1				#反正默认是1，我也懒得改辽
	}
}